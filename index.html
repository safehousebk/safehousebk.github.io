<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="css/vendor.css">
  
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Lato:100" type="text/css">

    <link rel="stylesheet" href="css/main.css">

  </head>
  <body>

    <div id="mobile-placeholder" class="coming-soon">
      <h6>MOBILE SITE UNDER CONSTRUCTION</h6>
      <h6>PLEASE VIEW ON DESKTOP</h6>
    </div>

    <!-- NAV -->
    <div id="nav">
      <!-- LOGO -->
      <h1 class="logo">
        <a id="nav-logo" data-toggle="tab" role="tab" href="#home">TV PARTY</a>
      </h1>
      <!-- MENU -->
      <ul class="menu" role="tablist">
        <li class="active">
          <a id="nav-home" href="#home" data-toggle="tab" role="tab">HOME</a>
        </li>
        <li>
          <a id="nav-eps" href="#ep3" data-toggle="tab" role="tab">
          <!--<a>-->
            EPISODES
          </a>
          <ul class="submenu expand">
            <li>
              <a id="nav-ep3" class="nav-ep" href="#ep3" data-toggle="tab" role="tab">3 | TVP GOES TO CAMP</a>
            </li>
            <li>
              <a id="nav-ep2" class="nav-ep" href="#ep2" data-toggle="tab" role="tab">2 | PAJAMA PARTY</a>
            </li>
            <li>
              <a id="nav-ep1" class="nav-ep" href="#ep1" data-toggle="tab" role="tab">1 | LE BARON</a>
            </li>
          </ul>
        </li>
        <li>
          <a id="nav-people" href="#people" data-toggle="tab" role="tab">PEOPLE</a>
        </li>
        <li>
          <a id="nav-otvp" href="#ogtvp" data-toggle="tab" role="tab">ORIGINAL TVP</a>
        </li>
        <li>
          <a id="nav-about" href="#about" data-toggle="tab" role="tab">ABOUT</a>
        </li>
      </ul>
      <!-- FOOTER -->
      <div class="footer">
        <div class"sponsors">
          <div class="sponsors-text">
            PARTICIPATING SPONSORS
          </div>
          <div class="sponsors-logos">
            <img src="img/cnf.png" />
            <img src="img/jcrew.png" />
            <img src="img/momaps1.png" />
            <img src="img/sleepyjones.png" />
            <img src="img/redbull.png" />
            <img src="img/absolutelyx.png" />
          </div>
        </div>
      </div>
    </div>

    <!-- CONTENT -->
    <div class="content">
      <!-- TODO: dynamically insert alt -->
      <div class="tab-content">
        <!-- Home --> 
        <div class="tab-pane fade in active" id="home">
<!--           <h1 class="content-title" id="home-title">
            EPISODE 0: TRAILER
          </h1> -->
          <div class="player-container fade" id="home-container">
            <div id="trailer-player"></div>
          </div>
        </div>

        <!-- Episode 3 -->
        <div class="tab-pane fade" id="ep3">
<!--           <h1 class="content-title" id="ep3-title">
            EPISODE 3: THREE
          </h1> -->
          <div class="player-container" id="ep3-container">
            <div id="ep3-player"></div>
          </div>
          <div class="people-container ep3-people-container"></div>
        </div>

       <!-- Episode 2 -->
        <div class="tab-pane fade" id="ep2">
<!--           <h1 class="content-title" id="ep2-title">
            EPISODE 2: PAJAMA PARTY
          </h1> -->
          <div class="player-container" id="ep2-container">
            <div id="ep2-player"></div>
          </div>
          <div class="people-container ep2-people-container"></div>
        </div>

      <!-- Episode 1 -->
        <div class="tab-pane fade" id="ep1">
<!--           <h1 class="content-title" id="ep1-title">
            EPISODE 1: THE MIRACULOUS RESURRECTION
          </h1> -->
          <div class="player-container" id="ep1-container">
            <div id="ep1-player"></div>
          </div>
          <div class="people-container ep1-people-container"></div>
        </div>

        <!-- Guests -->
        <div class="tab-pane fade" id="people">
          <h1 class="content-title" id="ep3-people-title">
            EPISODE 3
          </h1>
          <div class="people-container ep3-people-container"></div>
          <h1 class="content-title" id="ep2-people-title">
            EPISODE 2
          </h1>
          <div class="people-container ep2-people-container"></div>
          <h1 class="content-title" id="ep1-people-title">
            EPISODE 1
          </h1>
          <div class="people-container ep1-people-container"></div>
        </div>

        <!-- Original TVP -->
        <div class="tab-pane fade" id="ogtvp">
          <div class="coming-soon">
            <h1>COMING SOON</h1>
          </div>
        </div>

        <!-- About -->
        <div class="tab-pane fade" id="about">
           <div class="coming-soon">
             <h1>COMING SOON</h1>
           </div>
        </div>
      </div>
    </div>

    <script src="js/vendor.js"></script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.2.0/js/tab.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.2.0/js/transition.min.js"></script>
    <script src="js/templates.js"></script>

    <!-- maybe make all these main.js or home.js or something -->
    <!-- gotta make this a general thing (browserify) that can get specific content -->

    <script src="js/index.js"></script>

    <script>

      // YT API

      var tag = document.createElement('script');
      tag.src = "https://www.youtube.com/iframe_api";
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

      var trailerPlayer;
      var ep3Player, ep2Player, ep1Player;
      function onYouTubeIframeAPIReady() {

        function ytOptions(ytID) {
          var opts = {
            height: '390',
            width: '640',
            playerVars: {
              autohide: 1,
              color: 'white',
              rel: 0,
              showinfo: 1
            },
            events: {
              'onReady': onPlayerReady
            }
          };
          if (ytID.substring(0,2) == 'PL') {
            opts.playerVars.listType = 'playlist';
            opts.playerVars.list = ytID;
          }
          else {
            opts.videoId = ytID; 
          }
          return opts;
        }

        trailerPlayer = new YT.Player('trailer-player',
          ytOptions('NFvccjTCRIA'));

        ep3Player = new YT.Player('ep3-player',
          ytOptions('PLUbf1iqqRbnj4iaKzy2z9JXmRW_6cDvVA'));

        ep2Player = new YT.Player('ep2-player',
          ytOptions('PLUbf1iqqRbnh8GJYy4No3gii2PO4xGarp'));

        ep1Player = new YT.Player('ep1-player',
          ytOptions('PLUbf1iqqRbnjKajV2-Tk6duscZNYZ8s58'));
      }

      function onPlayerReady(event) {
        // fitvids
        $('.player-container').fitVids();;
        if (!$('#home-container').hasClass('in'))
          setTimeout(function() {
           $('#home-container').addClass('in');
          }, 500);
      }

      /* Pause hidden videos when clicking to new nav item */
      $('#nav-logo, .menu a').click(function() {
        var players = [trailerPlayer, ep1Player, ep2Player, ep3Player];
        var index = -1;
        var navEpId = $(this).attr('id');
        if (navEpId == 'nav-logo' || navEpId == 'nav-home')
          index = 0;
        else if (navEpId == 'nav-eps')
          index = 3;
        else if (navEpId == 'nav-ep1' || navEpId == 'nav-ep2' || navEpId == 'nav-ep3')
          index = navEpId.slice(-1);
        if (index >= 0)
          players.splice(index, 1);
        for (var i=0; i<players.length; i++) {
          players[i].pauseVideo();
        }
      });
    </script>
  </body>
</html>
